<html>
<head>
<script src="https://simplycodingcourses.com/files/simply.js"async></script>
<script>

function start(){
	sjs.open("target",500,500);
	var background = new sjs.Image("brick2.png");
	background.setSize(500, 500);

	var CanSel = false;
	var active = 1;
	var currgrid = 4;
	var grid = [
		[3,3,3,3,3,3,3,3,3],
		[3,3,3,3,3,3,3,3,3],
		[3,3,3,3,3,3,3,3,3],
		[3,3,3,3,3,3,3,3,3],
		[3,3,3,3,3,3,3,3,3],
		[3,3,3,3,3,3,3,3,3],
		[3,3,3,3,3,3,3,3,3],
		[3,3,3,3,3,3,3,3,3],
		[3,3,3,3,3,3,3,3,3]
		];

	MakeCross();
	
	var log = new sjs.Image("brick2.png");
	log.type = "dummy";
	log.setSize(8,8);
	log.moveTo(28, 28);
	
	sjs.scrollable(log,background);

	sjs.keyDown(Q_KEY, function(){
		if(CanSel == true){
			grid[currgrid][0] = active;
			currgrid = 0;
		}
	});

	sjs.keyDown(W_KEY, function(){
		if(CanSel == true){
			grid[currgrid][1] = active;
			currgrid = 1;
		}
	});

	sjs.keyDown(E_KEY, function(){
		if(CanSel == true){
			grid[currgrid][2] = active;
			currgrid = 2;
		}
	});

	sjs.keyDown(A_KEY, function(){
		if(CanSel == true){
			grid[currgrid][3] = active;
			currgrid = 3;
		}
	});

	sjs.keyDown(S_KEY, function(){
		if(CanSel == true){
			grid[currgrid][4] = active;
			currgrid = 4;
		}
	});

	sjs.keyDown(D_KEY, function(){
		if(CanSel == true){
			grid[currgrid][5] = active;
			currgrid = 5;
		}
	});

	sjs.keyDown(Z_KEY, function(){
		if(CanSel == true){
			grid[currgrid][6] = active;
			currgrid = 6;
		}
	});

	sjs.keyDown(X_KEY, function(){
		if(CanSel == true){
			grid[currgrid][7] = active;
			currgrid = 7;
		}
	});

	sjs.keyDown(C_KEY, function(){
		if(CanSel == true){
			grid[currgrid][8] = active;
			currgrid = 8;
		}
	});


	window.addEventListener("keyup", function(e){
		CanSel = true;
		if(active == 2){
			active = 1;
		} else {
			active = 2;
		}

		if((grid[currgrid][0] == grid[currgrid][4] == grid[currgrid][8]) || (grid[currgrid][2] == grid[currgrid][4] == grid[currgrid][6])){
			currgrid = currgrid + 1;
			if(currgrid == 9){
				currgrid = 0;
			}
		}
	}); //end EventListener function


	/*setInterval(function(){
	if(invincible > 0){
		invincible = invincible - 1
		health.node.style.backgroundColor = "white"
	}else{
		health.node.style.backgroundColor = "yellow"
	}
	canShoot = true
	},250);*/

	//sjs.onHit("player","flag", function(x,y){
	
	//});
} //end start

	function makeCross(){
		var bar = new sjs.Image("brick.png");
		bar.type = "deco";
		bar.setSize(8,500);
		bar.moveTo(150, 250);

	var bar2 = new sjs.Image("brick.png");
		bar2.type = "deco";
		bar2.setSize(8,500);
		bar2.moveTo(350, 250);

	var bar3 = new sjs.Image("brick.png");
		bar3.type = "deco";
		bar3.setSize(500, 8);
		bar3.moveTo(250, 150);

	var bar4 = new sjs.Image("brick.png");
		bar4.type = "deco";
		bar4.setSize(500,8);
		bar4.moveTo(250,350);
	var SmallBar = new sjs.Image("brick.png");
		SmallBar.type = "deco";
		SmallBar.setSize(75,4);
		SmallBar.moveTo(50, 25);

	var SmallBar2 = new sjs.Image("brick.png");
		SmallBar2.type = "deco";
		SmallBar2.setSize(75,4);
		SmallBar2.moveTo(50, 75);

	var SmallBar3 = new sjs.Image("brick.png");
		SmallBar3.type = "deco";
		SmallBar3.setSize(4,75);
		SmallBar3.moveTo(75, 50);

	var SmallBar4 = new sjs.Image("brick.png");
		SmallBar4.type = "deco";
		SmallBar4.setSize(4,75);
		SmallBar4.moveTo(25, 50);

	} // end MakeCross

</script>
</head>
<body onload="start()">
<h1> Tic Tac Toe Squared </h1>


<div id="target" style="margin:auto;background:#dbc7a2;"></div>
</body>
</html>
